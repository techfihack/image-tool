<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> Image Conversion Tool</title>

    <!-- jQuery from CDN -->
    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <!-- Bootstrap CSS from CDN -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="icon" type="image/jpg" sizes="16x16" href="./image/cat.jpg">
    <link rel="stylesheet" href="./style/style.css">
</head>
<body>

<div class="my-container">

    <h3> Image Conversion </h3>

    <form class="form-inline" action="/api/upload" method="post" enctype="multipart/form-data">

        <!-- Files -->
        <div class="row">
            <div class="col-md-12">
                <div class="form-group file-upload-wrapper">
                    <label for="files" class="form-label file-upload-button">
                        Choose Files (Maximum 50 files)
                    </label>
                    <input class="form-control file-upload-input" id="files" type="file" name="files" accept="image/*" multiple onchange="updateFileList()">
                </div>
            </div>
        </div>

        <!-- Format (moved below file selection) -->
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label class="form-label" for="imageFormats">Conversion Format : </label>
                    <select class="form-control" id="imageFormats"></select>
                </div>
            </div>
        </div>

        <div class="row">
            <table id="fileList">
                <!-- Dynamically filled rows will go here -->
            </table>
        </div>

        <!-- Apply to all, Width, and Height inputs -->
        <div class="row">
            <div class="col-md-12">
                <div class="form-group apply-to-all-container">
                    <input type="checkbox" id="applyToAll" name="applyToAll" class="apply-to-all-checkbox">
                    <label for="applyToAll" class="apply-to-all-label">Apply to all</label>
                    <input id="globalWidth" name="globalWidth" class="form-control" type="number" placeholder="Width" style="display: inline-block; width: 100px; margin-left: 10px;">
                    <input id="globalHeight" name="globalHeight" class="form-control" type="number" placeholder="Height" style="display: inline-block; width: 100px; margin-left: 10px;">
                </div>
            </div>
        </div>

        <!-- Resize Height -->
        <div class="row">
            <div class="col-md-12">
                <div class="form-group" id="height-div">
                    <!--
                   <label class="form-label"> Heights </label>
                   <input id="height" name="heights" class="form-control" type="number" />
                    -->
                </div>
            </div>
        </div>

        <!-- Compress Ratio -->
        <div class="row">
            <div class="col-md-12">
                <div class="form-group">
                    <label class="form-label label-compress-quality" for="compressQuality">Compress Ratio (%) : </label>
                    <span id="rangeValue">92%</span>
                    <input id="compressQuality" type="range" min="20" max="100" step="1" value="92">
                </div>
            </div>
        </div>

        <!-- Strip Metadata Option -->
        <div class="row">
            <div class="col-md-12">
                <div class="form-group strip-metadata-container">
                    <input type="checkbox" id="stripMetadata" name="stripMetadata" class="strip-metadata-checkbox">
                    <label for="stripMetadata" class="strip-metadata-label">Strip Metadata</label>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-md-12">
                <div class="form-group" style="text-align: center">
                    <button id="btn-convert-image" class="btn btn-primary submit-button" type="button" onclick="convertImage()" style="margin-top:10px">Convert</button>
                </div>
            </div>
        </div>

    </form>

    <div id="result" ></div>
    <div id="downloadDiv" ></div>
</div>
<script type="text/javascript" src="https://cdnjs.buymeacoffee.com/1.0.0/button.prod.min.js"
        data-name="bmc-button"
        data-slug="dorashad0w"
        data-color="#5F7FFF"
        data-emoji="â˜•"
        data-font="Comic"
        data-text="Buy me a coffee meow ~"
        data-outline-color="#000000"
        data-font-color="#ffffff"
        data-coffee-color="#FFDD00" >
</script>
</body>

<footer style="background-color: #333; color: white; text-align: center; padding: 20px 0; position: relative; bottom: 0; width: 100%;">
    <div>
        <p>&copy; 2024 doramiao. All rights reserved.</p>
        <p>
            <a href="/about" style="color: white; margin: 0 10px;">About Us</a> |
            <a href="/privacy" style="color: white; margin: 0 10px;">Privacy Policy</a> |
            <a href="/terms" style="color: white; margin: 0 10px;">Terms of Use</a>
        </p>
        <p>Support us: <a href="https://www.buymeacoffee.com/dorashad0w" style="color: white;">Buy Me A Coffee</a></p>
    </div>
</footer>
<script src="./js/script.js" ></script>

